function w(e){for(let t=0;t<e.length;t++){let n=e[t],i=document.querySelectorAll(n.selector);if(i==null||i.length==0){console.error(`no target found for selector ${n.selector}`);return}for(let s=0;s<i.length;s++){let a=i[s];for(let[r,o]of Object.entries(n.text??{}))a[r]=o;for(let[r,o]of Object.entries(n.integer??{}))a[r]=o;for(let[r,o]of Object.entries(n.boolean??{}))a[r]=o;for(let[r,o]of Object.entries(n.attribute??{}))a.setAttribute(r,o);for(let[r,o]of Object.entries(n.style??{}))a.style.setProperty(r,o);(n.remove??!1)&&a.remove()}}}function A(e,t,n){let i=n.content.children;for(let r=0;r<i.length;r++){let o=i[r];if(o.tagName=="SCRIPT"){let u=document.createElement("script");u.textContent=o.textContent,i[r].replaceWith(u)}}if(t==""){for(var s of Array.from(i)){let r=document.getElementById(s.id);if(r==null){console.error(`no target found for id ${s.id}`);continue}r.replaceWith(s)}return}let a=document.querySelectorAll(e);if(a==null||a.length==0){console.error(`no target found for selector ${e}`);return}for(let r=0;r<a.length;r++){let o=a[r];t=="replace"?o.replaceWith(...i):t=="prepend"?o.prepend(...i):t=="append"?o.append(...i):t=="after"?o.after(...i):t=="before"&&o.before(...i)}}async function M(e){if(e.status>=400){console.error(`status ${e.status}, url ${e.url}`);return}var t=A;"startViewTransition"in document&&(t=(o,u,g)=>{document.startViewTransition(()=>{A(o,u,g)})});var n=w;if("startViewTransition"in document&&(n=o=>{document.startViewTransition(()=>{w(o)})}),e.headers.get("Content-Type")?.includes("text/html")){let o=document.createElement("template");o.innerHTML=await e.text(),t(e.headers.get("X-Id")||"",e.headers.get("X-Event")||"",o);return}if(e.headers.get("Content-Type")?.includes("application/json")){n(JSON.parse(await e.text()));return}if(!e.headers.get("Content-Type")?.includes("text/event-stream"))return;let i=e.body.getReader(),s=new TextDecoder("utf-8"),a="",r=[];for(;;){let{done:o,value:u}=await i.read();if(o)break;a+=s.decode(u,{stream:!0});let g=a.split(`
`);a=g.pop()||"";for(let E of g)if(E.trim()!=="")r.push(E);else{let h="",v="";for(let c=0;c<r.length;c++){let f=r[c];f.startsWith("event:")?(h=f.slice(6).trim(),r[c]=""):f.startsWith("id:")?(v=f.slice(3).trim(),r[c]=""):f.startsWith("data:")?r[c]=f.slice(5).trim():r[c]=""}if(h=="dom")n(JSON.parse(r.join(`
`)));else{let c=document.createElement("template");c.innerHTML=r.join(`
`),t(v,h,c)}r=[]}}}function x(e){let t=e.querySelectorAll("input, select, textarea"),n=new FormData;for(let i of t)(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement||i instanceof HTMLSelectElement)&&i.name&&(i instanceof HTMLInputElement&&i.type==="checkbox"?n.append(i.name,i.checked?"1":"0"):n.append(i.name,i.value));return JSON.stringify(Object.fromEntries(n))}async function m(e,t){if(t==null||t==""){console.warn("endpoint not specified for element"),console.log(e);return}t=="window.location.pathname"&&(t=window.location.pathname),t.startsWith("eval")&&(t=window.eval(t));var n=e.getAttribute("method")||"GET",i=!1;for(let s=0;s<=Number(e.getAttribute("retry"));s++){let a={method:n};if(a.body=n=="GET"?null:x(e),await fetch(t,a).then(M).then(()=>{i=!0}).catch(r=>{console.warn(`retry: ${s}, method: ${n}, url ${t}, body: ${a.body}, error: ${r}`),i=!1}),i)break;await new Promise(r=>setTimeout(r,1e3))}}var d="init-fetch";async function T(e){if(e.hasAttribute(d)){e.dispatchEvent(new CustomEvent(d,{bubbles:!0}));var t=e.getAttribute(d);e.removeAttribute(d),m(e,t)}}new MutationObserver(e=>{for(let t of e)t.target instanceof HTMLElement&&T(t.target)}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[d]});document.querySelectorAll(`[${d}]`).forEach(e=>{e instanceof HTMLElement&&T(e)});var b="input-fetch";async function L(e){e.hasAttribute(b)&&e.addEventListener("input",t=>{m(e,e.getAttribute(b))})}new MutationObserver(e=>{for(let t of e)for(let n of t.addedNodes)n instanceof HTMLElement&&L(n)}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[b]});document.querySelectorAll(`[${b}]`).forEach(e=>{e instanceof HTMLElement&&L(e)});var l="intersect-fetch",p="intersect-observed";async function H(e){if(e.hasAttribute(l)){e.dispatchEvent(new CustomEvent(l,{bubbles:!0}));var t=e.getAttribute(l);e.removeAttribute(l),m(e,t)}}var y=new IntersectionObserver(e=>{for(let t of e)t.isIntersecting&&(H(t.target),y.unobserve(t.target))});new MutationObserver(e=>{for(let t of e)if(t.target instanceof HTMLElement){if(t.target.getAttribute(p)||!t.target.getAttribute(l))return;y.observe(t.target),t.target.setAttribute(p,"true")}}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[l]});document.querySelectorAll(`[${l}]`).forEach(e=>{if(e instanceof HTMLElement){if(e.getAttribute(p)||!e.getAttribute(l))return;y.observe(e),e.setAttribute(p,"true")}});window.addEventListener("keydown",e=>{if(e.key=="Escape")return document.activeElement?.blur();if(["Shift","Alt","Meta","Enter","Escape"].includes(e.key)||e.ctrlKey||e.metaKey)return;if(e.target instanceof HTMLInputElement&&e.target.type==="number")if(["e","E","+","-",".",","].includes(e.key)&&e.preventDefault(),e.target.value!==""){let n=String(Number(e.target.value));e.target.value!==n&&(e.target.value=n)}else e.target.value="0";let t=document.querySelectorAll(`.active [key-down='${e.key}'], #navigation [key-down='${e.key}']`);t.length>0&&(e.preventDefault(),t[0].scrollIntoViewIfNeeded(),t[0].focus(),t[0].click())});function k(){var e=window.location.hash;e==null||e==""||(document.querySelectorAll("section.page.active").forEach(t=>{t.classList.remove("active")}),document.querySelectorAll(`section.page[name="${e.slice(1)}"]`).forEach(t=>{t.classList.add("active")}))}k();window.addEventListener("hashchange",k);window.addEventListener("click",e=>{var t=e.target,n=t.getAttribute("click-scroll-y");n&&window.scrollBy(0,n)});
//# sourceMappingURL=zhteuern.js.map
